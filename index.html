
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
  
    <title>Wesin&#39;s blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="Wesin">
    

    
    <meta property="og:type" content="website">
<meta property="og:title" content="Wesin&#39;s blog">
<meta property="og:url" content="http://wesin.github.io/index.html">
<meta property="og:site_name" content="Wesin&#39;s blog">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Wesin&#39;s blog">

    
    
    <link rel="icon" href="/img/cat.ico">
    
    
    <link rel="apple-touch-icon" href="/img/bigcat.png">
    <link rel="apple-touch-icon-precomposed" href="/img/bigcat.png">
    
    <link rel="stylesheet" href="/css/style.css">
</head>
</html>
  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/bigcat.png" alt="Wesin&#39;s blog" title="Wesin&#39;s blog"></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="Wesin&#39;s blog">Wesin&#39;s blog</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="èœå•">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="æœç´¢">
						<input type="hidden" name="q" value="site:wesin.github.io">
					</form>
					
					</li>
				</ul>
			</ul></nav>			
</div>
    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2019/04/09/Maxcomputeæ‰¹é‡åˆ†åŒºåˆ é™¤/" title="Maxcomputeæ‰¹é‡åˆ†åŒºåˆ é™¤" itemprop="url">Maxcomputeæ‰¹é‡åˆ†åŒºåˆ é™¤</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Wesin" target="_blank" itemprop="author">Wesin</a>
		
  </p><p class="article-time">
    <time datetime="2019-04-09T07:03:07.000Z" itemprop="datePublished"> å‘è¡¨äº 2019-04-09</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p><strong>ps</strong>: Maxcomputeæ•°æ®ä»“åº“å»ºè®¾çš„åˆ†äº«ã€‚</p>
<h1 id="Maxcompute"><a href="#Maxcompute" class="headerlink" title="Maxcompute"></a>Maxcompute</h1><p>å¤§è‡´ä»‹ç»ä¸‹Maxcompute, Maxcomputeæ˜¯é˜¿é‡Œçš„ä¸€ä¸ªå¤§æ•°æ®å·¥å…·ï¼ŒåŸºäºMaxcomputeé˜¿é‡Œæ­å»ºäº†ä¸€ä¸ªDataworkçš„æ•°æ®å¹³å°ã€‚å¯ä»¥å¾ˆâ€œæ–¹ä¾¿â€çš„ä»å„ç§æ•°æ®æºå¯¼å…¥æ•°æ®ï¼Œåšæ•°æ®åˆ†æã€æœºå™¨å­¦ä¹ ç­‰ã€‚</p>
<p>â€œæ–¹ä¾¿â€ä¹‹æ‰€ä»¥åŠ ä¸ªå¼•å·ï¼Œæ˜¯å› ä¸ºæŸäº›æ–¹é¢çš„ç¡®å¾ˆæ–¹ä¾¿ï¼Œ<br>å½“ç„¶ä¸šåŠ¡å®åœ¨å¤æ‚äº†ï¼Œå¾ˆå¤šæ—¶å€™ä¹Ÿå­˜åœ¨ç”¨çš„å¾ˆéš¾å—çš„åœ°æ–¹ã€‚</p>
<p>æ›´å¤šä»‹ç»å»é˜¿é‡Œå®˜ç½‘äº†è§£å§ã€‚</p>
<p>å›åˆ°æ­£é¢˜ï¼Œè¿™é‡Œä¸»è¦åˆ†äº«ä¸‹æ‰¹é‡åˆ é™¤åˆ†åŒºçš„ä¸€ä¸ªå°æŠ€å·§ã€‚</p>
<h1 id="åˆ†åŒº"><a href="#åˆ†åŒº" class="headerlink" title="åˆ†åŒº"></a>åˆ†åŒº</h1><p>ä»‹ç»ä¸‹åˆ†åŒºçš„æ¦‚å¿µï¼ŒTableæ˜¯ä¸€ä¸ªæ•°æ®è¡¨ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªåˆ†åŒºçš„æ•°ç»„ã€‚åˆ†åŒºæŠŠTableçš„æ•°æ®åˆ†æˆäº†ä¸€ä¸ªä¸ªçš„åŒºå—ã€‚</p>
<p>Maxcomputeæ˜¯ä¸ªä¸æ”¯æŒæŸæ¡æ•°æ®ä¿®æ”¹åˆ é™¤çš„æ•°æ®ä»“åº“ã€‚è€Œåˆ†åŒºæ˜¯å¯ä»¥åˆ é™¤å’Œæ–°å¢çš„ã€‚å¼•å…¥åˆ†åŒºï¼Œå°±å¯ä»¥åšåˆ°åœ¨å°é¢—ç²’åº¦ä¸Šåšåˆ°ä¿®æ”¹å’Œåˆ é™¤çš„åŠŸèƒ½ã€‚</p>
<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>é¦–å…ˆæè¿°ä¸‹ä¸ºä½•ä¼šæœ‰å¤§é‡çš„åˆ†åŒºéœ€è¦åˆ é™¤çš„åœºæ™¯ã€‚</p>
<ul>
<li>æ•°æ®ä»datahubå½’æ¡£ï¼Œæ¯”å¦‚æŒ‰é¢‘ç‡æœ€é«˜çš„å½’æ¡£æ–¹å¼ 15åˆ†é’Ÿä¸€æ¬¡ï¼Œæ¯æ¬¡ä¸€ä¸ªåˆ†åŒºï¼Œå¯ä»¥æƒ³è±¡å‡ ä¸ªæœˆåå°†ä¼šæœ‰å¤šå°‘åˆ†åŒºã€‚</li>
<li>æ•°æ®ä»mysqlåˆ†åº“å¢é‡è¯»å–ï¼Œä»¥æ¯å¤©ä¸€æ¬¡å¢é‡ï¼Œä¹˜ä»¥åˆ†åº“çš„æ•°é‡ï¼Œä¹Ÿä¼šäº§ç”Ÿå¤§é‡çš„åˆ†åŒºã€‚</li>
</ul>
<p>åˆ†åŒºæ•°é‡å¤šäº†ä¹‹åï¼Œæ–‡ä»¶å°†ä¼šå˜å¤šã€‚ä¸€ä¸ªæ˜¯Maxcomputeå¯¹äºè¡¨çš„åˆ†åŒºæ˜¯ä¸€ä¸ªä¸Šé™æ•°é‡ï¼Œå¦ä¸€ä¸ªæ˜¯åˆ†åŒºæ•°é‡å¤šäº†ä¹‹åè®¡ç®—å°†ä¼šå¾ˆæ…¢ã€‚</p>
<p>è¿™äº›æºæ•°æ®å°†ä¼šç»è¿‡æ¸…æ´—äº§ç”Ÿå¯¹åº”çš„ä¸­é—´è¡¨æˆ–è€…ç»“æœé›†ï¼Œä¾›BIæˆ–è€…æ•°æ®åˆ†æä½¿ç”¨ã€‚è€Œæºæ•°æ®ä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œå¯ä»¥é€šè¿‡sqlèšåˆæˆä¸€ä¸ªå¤§åˆ†åŒºæ¥å­˜æ”¾ã€‚è€ŒåŸæ¥çš„å¾ˆå¤šåˆ†åŒºå°±å¯ä»¥åˆ é™¤ï¼Œä»¥ä¾¿è…¾å‡ºç©ºé—´ã€‚</p>
<h1 id="æ–¹å¼"><a href="#æ–¹å¼" class="headerlink" title="æ–¹å¼"></a>æ–¹å¼</h1><p>ä¸€èˆ¬æ­£å¸¸åˆ é™¤åˆ†åŒºæ˜¯é€šè¿‡sqlæ¥åˆ é™¤ã€‚</p>
<pre><code>alter table è¡¨A drop if EXISTS PARTITION(åˆ†åŒºå=&apos;123&apos;)
</code></pre><p>è¿™ç§æ–¹å¼åªèƒ½ä¸€æ¬¡åˆ é™¤ä¸€ä¸ªåˆ†åŒºï¼Œå½“åˆ†åŒºæœ‰ä¸Šä¸‡ä¸ªçš„æ—¶å€™å°±ä¸é€‚ç”¨äº†ã€‚</p>
<p>è¿™ç§æƒ…å†µå¯ä»¥é€šè¿‡pyodpsæ¥è½»æ¾çš„æ‰¹é‡åˆ é™¤åˆ†åŒºã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªåˆ é™¤datahubå½’æ¡£åˆ†åŒºçš„å®ä¾‹</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ¸…é™¤å†å²åˆ†åŒºï¼Œé˜²æ­¢åˆ†åŒºæ•°è¾¾åˆ°ä¸Šé™</span></span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> date, timedelta</span><br><span class="line"><span class="comment"># åˆ é™¤åå¤©å‰åˆ†åŒº</span></span><br><span class="line">end_date = date.today() - timedelta(days=<span class="number">10</span>)</span><br><span class="line">end = end_date.strftime(<span class="string">'%Y%m%d'</span>)</span><br><span class="line">	</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">drop_pars</span><span class="params">(tableName)</span>:</span></span><br><span class="line">    t = o.get_table(tableName)</span><br><span class="line">    s = list(filter(<span class="keyword">lambda</span> x: x.name &lt; <span class="string">"ds='&#123;&#125;'"</span>.format(end), t.partitions))</span><br><span class="line">    <span class="keyword">for</span> par <span class="keyword">in</span> s:</span><br><span class="line">        par.drop()</span><br><span class="line">	</span><br><span class="line">drop_pars(<span class="string">"dhub_trade"</span>)</span><br><span class="line">drop_pars(<span class="string">"dhub_ft_trade"</span>)</span><br><span class="line">drop_pars(<span class="string">"dhub_dn_trade"</span>)</span><br><span class="line">drop_pars(<span class="string">"dhub_wms_trade"</span>)</span><br><span class="line">drop_pars(<span class="string">"dhub_trade_send"</span>)</span><br><span class="line">drop_pars(<span class="string">"dhub_wms_trade_send"</span>)</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥åœ¨dataworksé‡Œé¢æ–°å»ºä¸ªpyodpsçš„èŠ‚ç‚¹æ¥æ¯å¤©è¿è¡Œï¼Œä¸€åŠ³æ°¸é€¸ã€‚</p>
<p>å¦‚æœæ˜¯æ”¾åœ¨pythonæœ¬åœ°è¿è¡Œçš„è¯å»ºè®®ä½¿ç”¨ipythonã€‚å…·ä½“è¿˜éœ€è¦é…ç½®ä¸‹odpsçš„ç¯å¢ƒã€‚å¯ä»¥å‚è€ƒä¸‹<a href="https://pyodps.readthedocs.io/zh_CN/latest/interactive.html#ipython" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p>
<h1 id="åè¯­"><a href="#åè¯­" class="headerlink" title="åè¯­"></a>åè¯­</h1><p>Dataworksä½¿ç”¨ä¸­åˆ†åº“åˆ†è¡¨å¾ˆå¤šï¼Œæ€ä¹ˆé…ç½®å¤§é‡çš„åŒæ­¥ä»»åŠ¡ã€‚æœ‰ç»éªŒçš„å¯ä»¥ä¸€èµ·ç ”ç©¶ä¸‹ã€‚</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Maxcompute/">Maxcompute</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Python/">Python</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2019/04/09/Maxcomputeæ‰¹é‡åˆ†åŒºåˆ é™¤/#comments" class="ds-thread-count comments-count-link" data-thread-key="2019/04/09/Maxcomputeæ‰¹é‡åˆ†åŒºåˆ é™¤/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2019/04/09/Swift5è¸©å‘è®°/" title="Swift5è¸©å‘è®°" itemprop="url">Swift5è¸©å‘è®°</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Wesin" target="_blank" itemprop="author">Wesin</a>
		
  </p><p class="article-time">
    <time datetime="2019-04-09T04:03:24.000Z" itemprop="datePublished"> å‘è¡¨äº 2019-04-09</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p><strong>ps</strong>: æ˜¥å…‰å¦‚æ¢­ï¼Œä¸€å¹´åˆå·²è¿‡å»ï¼Œxcode10ä¸æ»‘çš„è¿‡åº¦äº†4.2ç‰ˆæœ¬ã€‚ä»¥ä¸ºè‹¹æœç»ˆäºç»™åŠ›äº†ã€‚ç„¶è€Œxcode10.2çš„å‡çº§ï¼ŒSwift5çš„æ›´æ–°è®©æˆ‘æ˜ç™½äº†ä¸€ä¸ªé“ç†ï¼Œxcode10.2æ‰æ˜¯é‚£ä¸ªç‚¹ï¼Œxcode10è¯´ä¸å®šåªæ˜¯è€æ¿å‚¬çš„æ€¥ï¼Œä¸´æ—¶å‘çš„ä¸€ä¸ªç‰ˆã€‚</p>
<p>é—²è¯ä¸å¤šè¯´ï¼Œæè¿°ä¸‹è¿™æ¬¡é‡åˆ°çš„é—®é¢˜å§ã€‚</p>
<h1 id="HashValue-å½»åº•ä¸èƒ½ç”¨äº†"><a href="#HashValue-å½»åº•ä¸èƒ½ç”¨äº†" class="headerlink" title="HashValue å½»åº•ä¸èƒ½ç”¨äº†"></a>HashValue å½»åº•ä¸èƒ½ç”¨äº†</h1><p>å…¶å®è¿™ä¸ªswift4.2å°±å·²ç»æœ‰äº†æ–°çš„æ–¹æ¡ˆï¼Œåªæ˜¯å‰é¢ä¸€ç›´è¿˜èƒ½ç”¨ã€‚swift5ç›´æ¥ç¼–è¯‘æŠ¥é”™äº†ã€‚</p>
<p>ä¸‹é¢å°±æ˜¯æ›¿æ¢æ–¹æ¡ˆçš„ä½¿ç”¨æ–¹æ³•ã€‚</p>
<pre><code>// swift 3
extension Point: Equatable{
    func ==(lhs: Testhash, rhs: Testhash) -&gt; Bool {
        return lhs.hashValue == rhs.hashValue
    }
}
extension Point: Equatable {
    var hashValue: Int {
        get {
            return self.x + self.y * self.x
        }
    }
}

// swift 4.2
extension Point: Equatable {
    static func ==(lhs: Point, rhs: Point) -&gt; Bool {
        // Ignore distanceFromOrigin for determining equality
        return lhs.x == rhs.x &amp;&amp; lhs.y == rhs.y
    }
}
extension Point: Hashable {
    func hash(into hasher: inout Hasher) {
        // Ignore distanceFromOrigin for hashing
        hasher.combine(x)
        hasher.combine(y)
    }
}
</code></pre><h1 id="å¤§å‘-releaseç‰ˆæœ¬å‘å¸ƒåTableViewæŸäº›delegateæ— æ³•è§¦å‘ç”Ÿæ•ˆ"><a href="#å¤§å‘-releaseç‰ˆæœ¬å‘å¸ƒåTableViewæŸäº›delegateæ— æ³•è§¦å‘ç”Ÿæ•ˆ" class="headerlink" title="å¤§å‘,releaseç‰ˆæœ¬å‘å¸ƒåTableViewæŸäº›delegateæ— æ³•è§¦å‘ç”Ÿæ•ˆ"></a>å¤§å‘,releaseç‰ˆæœ¬å‘å¸ƒåTableViewæŸäº›delegateæ— æ³•è§¦å‘ç”Ÿæ•ˆ</h1><p>å…·ä½“æè¿°ä¸‹åœºæ™¯, å½“TableViewæ‰€åˆ›å»ºçš„ç±»æ²¡æœ‰å®ç°æŸäº›å¯ä»¥ä¸å®ç°çš„ä»£ç†ï¼Œæ¯”å¦‚didselectï¼Œ heightforrowã€‚ç„¶åè¿™ä¸ªç±»è¢«å­ç±»ç»§æ‰¿ï¼Œå®ç°äº†didselectã€heightforheaderã€heightforfooterçš„æ–¹æ³•ã€‚åœ¨debugæ¨¡å¼ä¸‹ï¼Œä»£ç è¿è¡Œå¾ˆæ­£å¸¸ï¼Œç‚¹å‡»äº‹ä»¶ï¼Œé«˜åº¦éƒ½èƒ½æ­£å¸¸æ˜¾ç¤ºã€‚ä½†æ˜¯æ‰“åŒ…å‘å¸ƒåï¼Œä»testflightä¸‹è½½è¿‡æ¥ï¼Œå°±æœ‰å¯èƒ½å­˜åœ¨ç‚¹å‡»ï¼Œtableviewè¡Œç„¦ç‚¹è‰²ä¼šå˜åŒ–ï¼Œä½†æ˜¯äº‹ä»¶æ²¡æ³•è§¦å‘çš„é—®é¢˜ã€‚æˆ–è€…headerå’Œfooteré«˜åº¦ä¸å¯¹çš„é—®é¢˜ã€‚</p>
<p>è¿™ä¸ªé—®é¢˜çš„åŸå› ä¼°è®¡æ˜¯ç¼–è¯‘ä¼˜åŒ–åšäº†ä¿®æ”¹å¯¼è‡´çš„ã€‚</p>
<p>æœ€æ— è„‘çš„è§£å†³æ–¹æ¡ˆæ˜¯åœ¨çˆ¶ç±»æŠŠè¿™å‡ ä¸ªæ–¹æ³•éƒ½å†™ä¸€ä¸ªç©ºçš„å®ç°ï¼Œå­ç±»åšå‡½æ•°é‡å†™ã€‚äº²æµ‹æœ‰æ•ˆã€‚</p>
<p>é«˜ç«¯è§£å†³åŠæ³•ï¼Œå¯èƒ½éœ€è¦å»ä¿®æ”¹ä¸€äº›ç¼–è¯‘é€‰é¡¹å§ï¼Œç„¶è€Œæ²¡æµ‹è¯•è¿‡ï¼Œæœ‰å¤§ä½¬æè¿‡çš„ä¹Ÿå¯ä»¥æŒ‡å¯¼ä¸‹ã€‚</p>
<p>æ­¤é—®é¢˜æ˜¯Xcode10.2çš„é”…ï¼Œä¸swiftç‰ˆæœ¬æ— å…³ã€‚</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/ios/">ios</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/ios/">ios</a><a href="/tags/Swift5/">Swift5</a><a href="/tags/Xcode10-2/">Xcode10.2</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2019/04/09/Swift5è¸©å‘è®°/#comments" class="ds-thread-count comments-count-link" data-thread-key="2019/04/09/Swift5è¸©å‘è®°/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/10/11/Swift4è¸©å‘è®°/" title="Swift4è¸©å‘è®°" itemprop="url">Swift4è¸©å‘è®°</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Wesin" target="_blank" itemprop="author">Wesin</a>
		
  </p><p class="article-time">
    <time datetime="2017-10-11T01:29:05.000Z" itemprop="datePublished"> å‘è¡¨äº 2017-10-11</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p><strong>ps</strong>: æ—¶éš”ä¸€å¹´å·®ä¸€ä¸ªæœˆï¼Œxcode9ä¹Ÿå‡ºæ¥äº†ï¼Œswift4ä¹Ÿå‡çº§äº†ã€‚çŠ¹è®°å¾—ä¸Šæ¬¡swift3ä»£ç å‡çº§çš„æƒŠæ‚šåœºæ™¯ï¼Œè¿™æ¬¡å¿ƒä¸­é»˜é»˜æ‰“äº†ä¸ªåº•ï¼Œä¸€å®šä¸èƒ½æ‰‹è´±ï¼Œä¸€å®šè¦åœ¨xcode9.1å‡ºæ¥æˆ‘å†å‡çº§ã€‚ç„¶è€Œç»ˆç©¶æŠµä¸ä½å¿ƒä¸­çš„å¥½å¥‡å‡çº§äº†ï¼Œå‡çº§ï¼Œå‡çº§äº†â€¦â€¦å¹¸å¥½ï¼Œå¹¸å¥½ï¼Œç›¸æ¯”xcode8ï¼Œxcode9çœŸæ˜¯è‰¯å¿ƒäº†ã€‚çŠ¹è®°å¾—xcode8.0å‡ºæ¥æˆ‘æ˜¯ç­‰äº†ä¸€ä¸ªæœˆxcode8.1å‡ºæ¥æˆ‘æ‰èƒ½å‘ç‰ˆçš„ï¼Œç­‰çš„æ„Ÿè§‰è¦è¢«å…¬å¸è¾é€€äº†T.Tã€‚</p>
<p>å¿†è‹¦æ€ç”œè¿‡åï¼Œç»†æ•°ä¸‹ä»£ç å‡çº§ä¸­é‡åˆ°çš„å‘å§ã€‚</p>
<h1 id="å„ç§å§¿åŠ¿çš„-objc-objcMembers"><a href="#å„ç§å§¿åŠ¿çš„-objc-objcMembers" class="headerlink" title="å„ç§å§¿åŠ¿çš„@objc @objcMembers"></a>å„ç§å§¿åŠ¿çš„@objc @objcMembers</h1><h2 id="objc"><a href="#objc" class="headerlink" title="@objc"></a>@objc</h2><p>swift4é‡Œé¢æ‰€æœ‰çš„<strong>#selector(action)</strong> <em>action</em>æ–¹æ³•éƒ½è¦åŠ ä¸Š@objcæ ‡è®°ï¼Œèµ„æ–™è¯´æ˜¯ä¸ºäº†å…¼å®¹object-cä»£ç ã€‚ä»£ç é‡Œé¢<strong>#selector</strong>çš„æ™®åŠç‡è¿˜æ˜¯ç›¸å½“é«˜çš„ï¼Œä¸€ä¸ªä¸ªæ”¹çš„æ‰‹æ®‹ã€‚</p>
<h2 id="objcMembers"><a href="#objcMembers" class="headerlink" title="@objcMembers"></a>@objcMembers</h2><p>swift4é‡Œé¢NSObjectçš„å–å€¼æ–¹æ³•value(forkey)æ–¹æ³•ä¼šé€ æˆè¿è¡Œæ—¶å´©æºƒï¼Œæœ‰å¾ˆå¤šå¯¹è±¡copyç”¨äº†åå°„çš„å…ä¸å¾—éƒ½ä¼šå´©æºƒã€‚ç„¶è€Œç¼–è¯‘å™¨ä¸ä¼šæç¤ºä½ ä»£ç é”™äº†ã€‚è¿™é‡Œç®€å•ç‚¹å¤„ç†å¯ä»¥ç»™classå¯¹è±¡æ·»åŠ @objcMembersæ ‡è®°, ä¹Ÿå¯ä»¥ç»™å±æ€§æ·»åŠ @objc dynamicï¼Œrealmå°±è¿™æ˜¯è¿™ä¹ˆåšçš„ï¼Œå½“ç„¶æ‰€æœ‰realmæ•°æ®åº“å¯¹è±¡ä¹Ÿå¾—è¦æ”¹é€ ä¸‹</p>
<pre><code>@objcMembers
class StockDetailItem:NSObject {
    @objc dynamic var title = &quot;&quot;
    @objc dynamic var quantity = 0.0
    var actualNum = 0.0
    var fulllessNum = 0.0

    override init() {
        super.init()
    }

}

let item = StockDetailItem()
item.title = &quot;haha&quot;
item.value(forKey: &quot;title&quot;)
item.value(forKey: &quot;quantity&quot;)
</code></pre><p>è¿™ä¸ªä»£ç ä¿®æ”¹ä¹ŸæŒºå¤šï¼Œä¸ºäº†å¯¹è±¡copyç®€ä¾¿ï¼Œè‡ªå·±å†™äº†ä¸ªåå°„æ–¹æ³•</p>
<h1 id="swift3é—ç•™çš„tableview-delegateå‘"><a href="#swift3é—ç•™çš„tableview-delegateå‘" class="headerlink" title="swift3é—ç•™çš„tableview delegateå‘"></a>swift3é—ç•™çš„tableview delegateå‘</h1><p>åœ¨swift3é‡Œé¢å¤§éƒ¨åˆ†ä»£ç†å‡½æ•°åç§°éƒ½ç®€åŒ–äº†ï¼Œæ¯”å¦‚</p>
<pre><code>func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell
</code></pre><p>åŸæ¥æ˜¯</p>
<pre><code>func tableView(_ tableView: UITableView, cellForRowAtIndexPath indexPath: IndexPath) -&gt; UITableViewCell
</code></pre><p>é—®é¢˜æ˜¯ä¸æ˜¯æ‰€æœ‰çš„ä»£ç†æ–¹æ³•éƒ½æ”¹é€ ï¼Œè¿˜è½äº†å‡ ä¸ª didselect å’Œcanedit è¿™å‡ ä¸ªæ–¹æ³•è¿˜æ˜¯è€æ ·å­ï¼Œswift4é‡Œé¢å…¨ç®€åŒ–äº†ã€‚ç„¶è€Œä¹Ÿæ²¡æœ‰è­¦å‘Šæˆ–è€…é”™è¯¯æç¤ºã€‚</p>
<h1 id="æ‰«æåŠŸèƒ½æ²¡ååº”äº†"><a href="#æ‰«æåŠŸèƒ½æ²¡ååº”äº†" class="headerlink" title="æ‰«æåŠŸèƒ½æ²¡ååº”äº†"></a>æ‰«æåŠŸèƒ½æ²¡ååº”äº†</h1><p>åˆ‡äº†swift4ä¹‹åæ‰«ç å…¨éƒ¨å¤±æ•ˆäº†ã€‚ä¸€è„¸èŒ«ç„¶ï¼Œä»£ç ä¹Ÿæ²¡æœ‰ä»»ä½•é”™è¯¯æç¤ºã€‚å¹¸å¥½stackoverflowä¸Šçš„æœ‰ä¸ªè§£ç­”ï¼ŒåŸæ¥æ˜¯ä»£ç†æ–¹æ³•åæ”¹äº†ã€‚</p>
<pre><code>func captureOutput(_ captureOutput: AVCaptureOutput!, didOutputMetadataObjects metadataObjects: [Any]!, from connection: AVCaptureConnection!)
</code></pre><p>æ”¹æˆäº†</p>
<pre><code>func metadataOutput(_ output: AVCaptureMetadataOutput, didOutput metadataObjects: [AVMetadataObject], from connection: AVCaptureConnection)
</code></pre><h1 id="ipadä¸Šè‡ªå®šä¹‰UIBarButtonItemæ˜¾ç¤ºä½ç½®å¼‚å¸¸"><a href="#ipadä¸Šè‡ªå®šä¹‰UIBarButtonItemæ˜¾ç¤ºä½ç½®å¼‚å¸¸" class="headerlink" title="ipadä¸Šè‡ªå®šä¹‰UIBarButtonItemæ˜¾ç¤ºä½ç½®å¼‚å¸¸"></a>ipadä¸Šè‡ªå®šä¹‰UIBarButtonItemæ˜¾ç¤ºä½ç½®å¼‚å¸¸</h1><p>ä¸€èˆ¬è¿™ç§æ˜¾ç¤ºå¼‚å¸¸çš„æŒ‰é’®éƒ½æ˜¯è‡ªå®šä¹‰çš„customviewã€‚ä½¿ç”¨æ­£å¸¸çš„UIBarButtonItemæ˜¯æ²¡é—®é¢˜çš„.</p>
<p>å¦‚æœç¡®å®šè¦ä½¿ç”¨CustomViewï¼Œéœ€è¦ä¸“é—¨è®¾ç½®viewçš„intrinsicContentSize, ä¹Ÿå°±æ˜¯è®¾ç½®å¤§å°å³å¯ã€‚<br>å‚è€ƒä»£ç å¦‚ä¸‹</p>
<ul>
<li><p>intrinsicContentSizeæ˜¯åªè¯»å±æ€§ï¼Œéœ€è¦ç»§æ‰¿åé‡å†™</p>
<pre><code>class CommonNavigationView: UIView {

    init(size: CGSize) {
        super.init(frame: CGRect(origin: CGPoint.zero, size: size))
        self.overrideSize = size
    }

    required init?(coder aDecoder: NSCoder) {
        fatalError(&quot;init(coder:) has not been implemented&quot;)
    }

    lazy var overrideSize = CGSize.zero

    override var intrinsicContentSize: CGSize {
        get {
            return overrideSize
        }
    }
}
</code></pre></li>
</ul>
<ul>
<li><p>æ”¾ä¸Šä¸ªUIBarButtonçš„æ‰©å±•ï¼Œè¿™é‡Œä½¿ç”¨Cartographyåšçº¦æŸ</p>
<pre><code>import Cartography

extension UIBarButtonItem {
    enum Style {
        case left
        case right
    }

    convenience init(style: Style, customView: UIView, target:Any, action: Selector) {
        let backView = CommonNavigationView(size: CGSize(width: 44, height: 44))
        backView.addSubview(customView)
        let gesturer = UITapGestureRecognizer(target: target, action: action)
        backView.addGestureRecognizer(gesturer)
        constrain(customView) {
            imgv in
            if style == .left {
                imgv.left == imgv.superview!.left
            } else {
                imgv.right == imgv.superview!.right
            }
            imgv.centerY == imgv.superview!.centerY
            imgv.width == 25
            imgv.height == 25
        }
        self.init(customView: backView)
    }

    convenience init(style: Style, img: UIImage, target:Any, action: Selector) {
        let backView = CommonNavigationView(size: CGSize(width: 44, height: 44))
        let imgView = UIImageView(image: img)
        backView.addSubview(imgView)
        let gesturer = UITapGestureRecognizer(target: target, action: action)
        backView.addGestureRecognizer(gesturer)
        constrain(imgView) {
            imgv in
            if style == .left {
                imgv.left == imgv.superview!.left
            } else {
                imgv.right == imgv.superview!.right
            }
            imgv.centerY == imgv.superview!.centerY
            imgv.width == 25
            imgv.height == 25
        }
        self.init(customView: backView)
    }
}
</code></pre></li>
</ul>
<h1 id="UITableView-é¡¶éƒ¨è«åç•™ç™½"><a href="#UITableView-é¡¶éƒ¨è«åç•™ç™½" class="headerlink" title="UITableView é¡¶éƒ¨è«åç•™ç™½"></a>UITableView é¡¶éƒ¨è«åç•™ç™½</h1><p>ç½‘ä¸Šè¿˜æ˜¯æŒºå¤šè§£é‡Šçš„ï¼Œç„¶è€ŒåŸºæœ¬éƒ½ä¸é€‚ç”¨ï¼Œç ”ç©¶äº†å¥½ä¹…ï¼Œå…³é—­è¡Œé«˜ä¼°ç®—ï¼Œ è®¾ç½®å¤´éƒ¨é«˜åº¦ã€‚ä¸¤è€…ç¼ºä¸€ä¸å¯</p>
<pre><code>tableView.estimatedRowHeight = 0
tableView.estimatedSectionHeaderHeight = 0
tableView.estimatedSectionFooterHeight = 0

  func tableView(_ tableView: UITableView, heightForHeaderInSection section: Int) -&gt; CGFloat {
    return 0.1
}
</code></pre><p>å°±å…ˆè¿™æ ·å§ï¼Œç¥å„ä½å‡çº§æ„‰å¿«ï¼</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/ios/">ios</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/ios/">ios</a><a href="/tags/Swift4/">Swift4</a><a href="/tags/Xcode9/">Xcode9</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2017/10/11/Swift4è¸©å‘è®°/#comments" class="ds-thread-count comments-count-link" data-thread-key="2017/10/11/Swift4è¸©å‘è®°/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/08/18/Pythonå­¦ä¹ -å®æˆ˜ç¯‡/" title="Pythonå­¦ä¹ -å®æˆ˜ç¯‡" itemprop="url">Pythonå­¦ä¹ -å®æˆ˜ç¯‡</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Wesin" target="_blank" itemprop="author">Wesin</a>
		
  </p><p class="article-time">
    <time datetime="2017-08-18T08:03:42.000Z" itemprop="datePublished"> å‘è¡¨äº 2017-08-18</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="Webè‡ªåŠ¨åŒ–æµ‹è¯•æ–¹æ¡ˆ"><a href="#Webè‡ªåŠ¨åŒ–æµ‹è¯•æ–¹æ¡ˆ" class="headerlink" title="Webè‡ªåŠ¨åŒ–æµ‹è¯•æ–¹æ¡ˆ"></a>Webè‡ªåŠ¨åŒ–æµ‹è¯•æ–¹æ¡ˆ</h1><p>Python selenium phantomJS</p>
<p><a href="http://cuiqingcai.com/2599.html" target="_blank" rel="noopener">http://cuiqingcai.com/2599.html</a></p>
<h1 id="è¿ç»´è‡ªåŠ¨åŒ–"><a href="#è¿ç»´è‡ªåŠ¨åŒ–" class="headerlink" title="è¿ç»´è‡ªåŠ¨åŒ–"></a>è¿ç»´è‡ªåŠ¨åŒ–</h1><p>ä½¿ç”¨ Fabric3 è‡ªåŠ¨åŒ–éƒ¨ç½² Python3 é¡¹ç›®</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Python/">Python</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Python/">Python</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2017/08/18/Pythonå­¦ä¹ -å®æˆ˜ç¯‡/#comments" class="ds-thread-count comments-count-link" data-thread-key="2017/08/18/Pythonå­¦ä¹ -å®æˆ˜ç¯‡/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/08/14/æ•æ·å¼€å‘è¢«å¿½è§†çš„UML/" title="æ•æ·å¼€å‘è¢«å¿½è§†çš„UML" itemprop="url">æ•æ·å¼€å‘è¢«å¿½è§†çš„UML</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Wesin" target="_blank" itemprop="author">Wesin</a>
		
  </p><p class="article-time">
    <time datetime="2017-08-14T03:19:09.000Z" itemprop="datePublished"> å‘è¡¨äº 2017-08-14</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h1><p>æ··äº†ä¸¤å¹´å¼€å‘ï¼Œå¿½ç„¶åˆè¿›å…¥äº†PMçš„è§’è‰²ä¸Šï¼Œå¥½ä¹…æ²¡æœ‰åšè¿‡é¡¹ç›®ç®¡ç†äº†ï¼Œå¾ˆå¤šå·¥ä½œæ–¹æ³•éƒ½å¿˜äº†ã€‚è¿™é‡Œå›å¿†é¡ºä¾¿åšä¸ªè®°å½•ã€‚</p>
<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>ä»ä¸Šæ¬¡è·³æ§½è¿›äº†ä¸€ä¸ªåˆ›ä¸šå…¬å¸ï¼Œä¸€ä¸ª20æ¥ä¸ªäººçš„å°å…¬å¸ï¼Œä¸‡äº‹ä»ç®€ï¼Œäº¤æµé å¼ï¼Œéœ€æ±‚é è¯´ã€‚äººå°‘äº†è¿˜å¥½ï¼Œå’Œäº§å“1v1çš„å¹²ä¹Ÿæ²¡ä»€ä¹ˆå¤§ä¸äº†ã€‚ä¸å¾—ä¸è¯´ï¼Œå…¬å¸å‘å±•å¾ˆå¿«ï¼ŒçŸ­çŸ­ä¸¤å¹´ï¼Œå…¬å¸å·²ç»æœ‰150+çš„äººé©¬äº†ã€‚å›¢é˜Ÿä¹Ÿå˜å¤§äº†ï¼Œç„¶è€Œäº§å“çš„éœ€æ±‚è¿˜æ˜¯å‡ å¥è¯çš„æè¿°ï¼Œå†å¤šåŠ å‡ ä¸ªç•Œé¢å›¾ï¼Œäº¤äº’ï¼Œåœºæ™¯çº¯é æè¿°ã€‚å‡ ä¸ªäº§å“çš„å¯¹æ¥æ›´æ˜¯ä¸€ç¾¤äº§å“åœ¨è®²å¤©ä¹¦ï¼Œè·¯äººå®Œå…¨ä¸çŸ¥é“è®²çš„ä»€ä¹ˆé¬¼ã€‚å¿ƒç†é»˜é»˜æƒ³ï¼Œå›¾å‘¢ã€‚</p>
<h1 id="UML"><a href="#UML" class="headerlink" title="UML"></a>UML</h1><p>UMLï¼šUnified Modeling Language(ç»Ÿä¸€å»ºæ¨¡è¯­è¨€)<br>UMLä¸»è¦çš„å°±æ˜¯ç”»å›¾ï¼Œå›¾æœ‰å¥½å‡ ç§ã€‚<br>å¯ä»¥æŒ‰ç…§éœ€æ±‚ç”»ç›¸åº”çš„å›¾ã€‚</p>
<p>è¿™è¾¹ç€é‡ä»‹ç»å‡ ä¸ªå›¾ï¼š</p>
<ul>
<li>ç”¨ä¾‹</li>
<li>æ´»åŠ¨å›¾</li>
<li>ç±»å›¾</li>
<li>æ—¶åºå›¾</li>
<li>(æµç¨‹å›¾)</li>
</ul>
<h2 id="ç”¨ä¾‹"><a href="#ç”¨ä¾‹" class="headerlink" title="ç”¨ä¾‹"></a>ç”¨ä¾‹</h2><p>ç”¨ä¾‹å›¾ï¼šä»ç”¨æˆ·è§’åº¦æè¿°ç³»ç»ŸåŠŸèƒ½ï¼Œå¹¶æŒ‡å„åŠŸèƒ½çš„æ“ä½œè€…ã€‚</p>
<p><img src="../images/UML/approcase.png" alt="Image"></p>
<h2 id="æ´»åŠ¨å›¾"><a href="#æ´»åŠ¨å›¾" class="headerlink" title="æ´»åŠ¨å›¾"></a>æ´»åŠ¨å›¾</h2><p>æ´»åŠ¨å›¾æ˜¯UMLç”¨äºå¯¹ç³»ç»Ÿçš„åŠ¨æ€è¡Œä¸ºå»ºæ¨¡çš„å¦ä¸€ç§å¸¸ç”¨å·¥å…·ï¼Œå®ƒæè¿°æ´»åŠ¨çš„é¡ºåºï¼Œå±•ç°ä»ä¸€ä¸ªæ´»åŠ¨åˆ°å¦ä¸€ä¸ªæ´»åŠ¨çš„æ§åˆ¶æµã€‚æ´»åŠ¨å›¾åœ¨æœ¬è´¨ä¸Šæ˜¯ä¸€ç§æµç¨‹å›¾ã€‚</p>
<p>å®ƒæ˜¯UMLä¸­ç”¨äºå¯¹ç³»ç»ŸåŠ¨æ€æ´»åŠ¨å»ºæ¨¡çš„å›¾å½¢ï¼Œåæ˜ ç³»ç»Ÿä¸­ä¸€ä¸ªæ´»åŠ¨åˆ°å¦ä¸€ä¸ªæ´»åŠ¨çš„æµç¨‹ï¼Œå¸¸å¸¸ç”¨äºæè¿°ä¸šåŠ¡è¿‡ç¨‹å’Œå¹¶è¡Œå¤„ç†è¿‡ç¨‹ã€‚æ´»åŠ¨å›¾ä¸­åŒ…æ‹¬æ³³é“ã€æ´»åŠ¨å¼€å§‹ã€æ´»åŠ¨ç»“æŸã€æ´»åŠ¨ã€å¯¹è±¡ã€åˆ†æ”¯ã€æ¶ˆæ¯ç­‰å›¾å½¢ç¬¦å·ã€‚</p>
<p>æ€»çš„æ¥è¯´ï¼šæ´»åŠ¨å›¾æ˜¯æè¿°å¤šä¸ªè§’è‰²é—´ååŒå·¥ä½œçš„æµç¨‹å›¾ã€‚</p>
<p>ç”¨é—¨åº—é‡‡è´­å¯¹æ¥å¤šç‰›ä¾›åº”å•†æµç¨‹ç”»äº†ä¸ªäº‹ä¾‹å›¾ã€‚<br><img src="../images/UML/pospurchaseduoniu.png" alt="Screen shot"></p>
<h2 id="æµç¨‹å›¾"><a href="#æµç¨‹å›¾" class="headerlink" title="æµç¨‹å›¾"></a>æµç¨‹å›¾</h2><p>æµç¨‹å›¾ï¼šæµç¨‹å›¾å¹¶ä¸å±äºUMLçš„åŸºæœ¬å›¾å½¢ç±»å‹ï¼Œä½†æ˜¯æ˜¯ç¨‹åºå‘˜å…¥é—¨å¿…é¡»çš„ä¸€ç§å›¾ã€‚å¯ä»¥æ‹¿æ¥ç®€å•æ˜æœ—çš„æ˜¾ç¤ºä»£ç é€»è¾‘ã€‚</p>
<p>é—¨åº—å¾®ä¿¡æ”¯ä»˜æµç¨‹å›¾ã€‚<br><img src="../images/UML/pospay.png" alt="Screen shot"></p>
<h2 id="ç±»å›¾"><a href="#ç±»å›¾" class="headerlink" title="ç±»å›¾"></a>ç±»å›¾</h2><p>ç±»å›¾ï¼šä¸€èˆ¬ç”¨äºç¨‹åºå‘˜ä¸ç¨‹åºå‘˜ä¹‹é—´çš„å¯¹è¯ã€‚ä½œç”¨äºæè¿°å¤æ‚çš„è®¾è®¡æ¨¡å¼ã€æ¡†æ¶ã€æ¶æ„ã€ç±»å…³ç³»ç­‰<br><img src="../images/UML/class.png" alt="Image"></p>
<h2 id="æ—¶åºå›¾"><a href="#æ—¶åºå›¾" class="headerlink" title="æ—¶åºå›¾"></a>æ—¶åºå›¾</h2><p>æ—¶åºå›¾ï¼šæ¯”è¾ƒæ¸…æ™°çš„æè¿°å‡½æ•°çš„è¿è¡Œæµç¨‹ã€‚</p>
<p><img src="../images/UML/time.png" alt="Image"></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/PM/">PM</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/UML/">UML</a><a href="/tags/PM/">PM</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2017/08/14/æ•æ·å¼€å‘è¢«å¿½è§†çš„UML/#comments" class="ds-thread-count comments-count-link" data-thread-key="2017/08/14/æ•æ·å¼€å‘è¢«å¿½è§†çš„UML/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/08/12/Pythonå­¦ä¹ -æ–¹æ³•ç¯‡/" title="Pythonå­¦ä¹ -æ–¹æ³•ç¯‡" itemprop="url">Pythonå­¦ä¹ -æ–¹æ³•ç¯‡</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Wesin" target="_blank" itemprop="author">Wesin</a>
		
  </p><p class="article-time">
    <time datetime="2017-08-12T03:04:28.000Z" itemprop="datePublished"> å‘è¡¨äº 2017-08-12</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="åˆå§‹åŒ–ç¯‡"><a href="#åˆå§‹åŒ–ç¯‡" class="headerlink" title="åˆå§‹åŒ–ç¯‡"></a>åˆå§‹åŒ–ç¯‡</h1><h2 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h2><p>macæœ¬èº«è‡ªå¸¦äº†pythonç‰ˆæœ¬ï¼Œbutæ˜¯python2.xç‰ˆæœ¬ï¼Œå¦‚æœæœ‰å¼ºè¿«ç—‡å–œæ¬¢ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„å¯ä»¥å®‰è£…python3ã€‚æˆ‘è¿™è¾¹å®‰è£…åœ¨äº†/usr/local/bin,è¿™ä¸ªä¸€èˆ¬æ˜¯åœ¨è„šæœ¬æ–‡ä»¶ç¬¬ä¸€è¡Œå£°æ˜ï¼Œè¡¨ç¤ºä½¿ç”¨pythonç‰ˆæœ¬ã€‚</p>
<pre><code>#!/usr/local/bin/python3
</code></pre><h2 id="è®¾ç½®å¯æ‰§è¡Œçš„è„šæœ¬æƒé™"><a href="#è®¾ç½®å¯æ‰§è¡Œçš„è„šæœ¬æƒé™" class="headerlink" title="è®¾ç½®å¯æ‰§è¡Œçš„è„šæœ¬æƒé™"></a>è®¾ç½®å¯æ‰§è¡Œçš„è„šæœ¬æƒé™</h2><pre><code>chmod +x xxxx.py
</code></pre><h2 id="pipå®‰è£…å¯¹åº”çš„pythonç‰ˆæœ¬ä¾èµ–åº“"><a href="#pipå®‰è£…å¯¹åº”çš„pythonç‰ˆæœ¬ä¾èµ–åº“" class="headerlink" title="pipå®‰è£…å¯¹åº”çš„pythonç‰ˆæœ¬ä¾èµ–åº“"></a>pipå®‰è£…å¯¹åº”çš„pythonç‰ˆæœ¬ä¾èµ–åº“</h2><pre><code>sudo python3 -m pip install **
</code></pre><h2 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h2><p>æ¨èï¼š    Visual Studio Code </p>
<h1 id="è¯­æ³•å­¦ä¹ "><a href="#è¯­æ³•å­¦ä¹ " class="headerlink" title="è¯­æ³•å­¦ä¹ "></a>è¯­æ³•å­¦ä¹ </h1><p>éšä¾¿æŒ‘å‡ ä¸ªè¯­æ³•python3è¯­æ³•ç½‘ç«™å­¦ä¹ <br><a href="http://www.web3.xin/python3/107.html" target="_blank" rel="noopener">http://www.web3.xin/python3/107.html</a><br><a href="http://www.runoob.com/python/python-pass-statement.html" target="_blank" rel="noopener">http://www.runoob.com/python/python-pass-statement.html</a></p>
<p>è¿›é˜¶å¯ä»¥é˜…è¯»ä¸‹<br><strong>Pythonè¿›é˜¶</strong>: <a href="https://github.com/eastlakeside/interpy-zh" target="_blank" rel="noopener">https://github.com/eastlakeside/interpy-zh</a></p>
<h1 id="æ–¹æ³•ç¯‡"><a href="#æ–¹æ³•ç¯‡" class="headerlink" title="æ–¹æ³•ç¯‡"></a>æ–¹æ³•ç¯‡</h1><p>ä½¿ç”¨è¿‡sublimeå’Œvscodeæ¥å­¦ä¹ å’Œç¼–ç¨‹pythonï¼Œå¯¹äºè¯­æ³•çš„æ™ºèƒ½æç¤ºå’Œé«˜äº®éƒ½æŒºå·®çš„ï¼Œsoç›¸å¯¹äºjavaã€c#ã€swiftè¿™ç§è¯­æ³•ä¸¥è°¨çš„è¯­è¨€æ¥è¯´ï¼Œç¼–å†™ä½“éªŒæå·®ï¼Œå¯¹æ–°æ‰‹éå¸¸ä¸å‹å¥½ï¼Œç»å¸¸å†™ç€å†™ç€è¦å»ç¿»è¯å…¸ã€‚</p>
<p>æ‰€ä»¥æ–°æ‰‹é˜¶æ®µå…ä¸å¾—å¤šç»ƒå¤šå†™äº†ã€‚</p>
<h3 id="æŸ¥çœ‹å¯¹è±¡æ–¹æ³•"><a href="#æŸ¥çœ‹å¯¹è±¡æ–¹æ³•" class="headerlink" title="æŸ¥çœ‹å¯¹è±¡æ–¹æ³•"></a>æŸ¥çœ‹å¯¹è±¡æ–¹æ³•</h3><pre><code>&gt;&gt;&gt; a 
[1, 2, 3, 4, 4, 7]
&gt;&gt;&gt; dir(a)
[&apos;__add__&apos;, &apos;__class__&apos;, &apos;__contains__&apos;, &apos;__delattr__&apos;, &apos;__delitem__&apos;, &apos;__dir__&apos;, &apos;__doc__&apos;, &apos;__eq__&apos;, &apos;__format__&apos;, &apos;__ge__&apos;, &apos;__getattribute__&apos;, &apos;__getitem__&apos;, &apos;__gt__&apos;, &apos;__hash__&apos;, &apos;__iadd__&apos;, &apos;__imul__&apos;, &apos;__init__&apos;, &apos;__init_subclass__&apos;, &apos;__iter__&apos;, &apos;__le__&apos;, &apos;__len__&apos;, &apos;__lt__&apos;, &apos;__mul__&apos;, &apos;__ne__&apos;, &apos;__new__&apos;, &apos;__reduce__&apos;, &apos;__reduce_ex__&apos;, &apos;__repr__&apos;, &apos;__reversed__&apos;, &apos;__rmul__&apos;, &apos;__setattr__&apos;, &apos;__setitem__&apos;, &apos;__sizeof__&apos;, &apos;__str__&apos;, &apos;__subclasshook__&apos;, &apos;append&apos;, &apos;clear&apos;, &apos;copy&apos;, &apos;count&apos;, &apos;extend&apos;, &apos;index&apos;, &apos;insert&apos;, &apos;pop&apos;, &apos;remove&apos;, &apos;reverse&apos;, &apos;sort&apos;]
</code></pre><h3 id="æŸ¥çœ‹æ–¹æ³•ä½¿ç”¨"><a href="#æŸ¥çœ‹æ–¹æ³•ä½¿ç”¨" class="headerlink" title="æŸ¥çœ‹æ–¹æ³•ä½¿ç”¨"></a>æŸ¥çœ‹æ–¹æ³•ä½¿ç”¨</h3><pre><code>help(a)
</code></pre><p>ä¹Ÿå¯ä»¥helpæŸä¸ªæ–¹æ³•</p>
<pre><code>help(a.count)
</code></pre><h3 id="å†…ç½®å‡½æ•°"><a href="#å†…ç½®å‡½æ•°" class="headerlink" title="å†…ç½®å‡½æ•°"></a>å†…ç½®å‡½æ•°</h3><p>ä¾‹å¦‚ len(array)æ¥è·å–åˆ—è¡¨é•¿åº¦è¿™ç§ï¼Œä¹ æƒ¯äº†array.countæ— è„‘å†™æ³•çš„ï¼Œè¡¨ç¤ºå¿ƒç´¯ã€‚</p>
<p><a href="http://www.runoob.com/python/python-built-in-functions.html" target="_blank" rel="noopener">http://www.runoob.com/python/python-built-in-functions.html</a></p>
<h1 id="æŠ€èƒ½"><a href="#æŠ€èƒ½" class="headerlink" title="æŠ€èƒ½"></a>æŠ€èƒ½</h1><p>å®šä½è„šæœ¬æ€§èƒ½ç“¶é¢ˆ</p>
<pre><code>python -m cProfile my_script.py
</code></pre><p>csvè½¬json</p>
<pre><code>python -c &quot;import csv,json;print json.dumps(list(csv.reader(open(&apos;csv_file.csv&apos;))))
</code></pre><p>yield æ¥æ”¶è¾“å…¥</p>
<pre><code>def grep(pattern):
    print(&quot;Searching for&quot;, pattern)
    while True:
        line = (yield)
        if pattern in line:
            print(line)

search = grep(&apos;coroutine&apos;)
next(search)
#output: Searching for coroutine
search.send(&quot;I love you&quot;)
search.send(&quot;Don&apos;t you love me?&quot;)
search.send(&quot;I love coroutine instead!&quot;)
#output: I love coroutine instead!
</code></pre><p>è¯»å–æ–‡ä»¶æ•°æ®</p>
<pre><code>import io

with open(&apos;photo.jpg&apos;, &apos;rb&apos;) as inf:
    jpgdata = inf.read()
</code></pre><ul>
<li>å¦‚æœä½ æƒ³è¯»å–æ–‡ä»¶ï¼Œä¼ å…¥r</li>
<li>å¦‚æœä½ æƒ³è¯»å–å¹¶å†™å…¥æ–‡ä»¶ï¼Œä¼ å…¥r+</li>
<li>å¦‚æœä½ æƒ³è¦†ç›–å†™å…¥æ–‡ä»¶ï¼Œä¼ å…¥w</li>
<li>å¦‚æœä½ æƒ³åœ¨æ–‡ä»¶æœ«å°¾é™„åŠ å†…å®¹ï¼Œä¼ å…¥a</li>
</ul>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>é…ç½®å¥½ç¯å¢ƒï¼Œæµè§ˆä¸‹è¯­æ³•ï¼ŒæŒæ¡äº†æ–¹æ³•ï¼Œåº”è¯¥å°±å¯ä»¥å¼€æäº†ã€‚</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Python/">Python</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Python/">Python</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2017/08/12/Pythonå­¦ä¹ -æ–¹æ³•ç¯‡/#comments" class="ds-thread-count comments-count-link" data-thread-key="2017/08/12/Pythonå­¦ä¹ -æ–¹æ³•ç¯‡/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/08/12/Pythonå­¦ä¹ -è¯­æ³•ç¯‡/" title="Pythonå­¦ä¹ -è¯­æ³•ç¯‡" itemprop="url">Pythonå­¦ä¹ -è¯­æ³•ç¯‡</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Wesin" target="_blank" itemprop="author">Wesin</a>
		
  </p><p class="article-time">
    <time datetime="2017-08-12T03:03:50.000Z" itemprop="datePublished"> å‘è¡¨äº 2017-08-12</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h1><h2 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a>ç±»</h2><ul>
<li>ä¸‡ç‰©çš†æ˜¯å¯¹è±¡</li>
<li>å±æ€§å°±æ˜¯å¯¹è±¡çš„å­—å…¸</li>
</ul>
<h2 id="å¼•ç”¨ç±»å‹å’Œå€¼ç±»å‹"><a href="#å¼•ç”¨ç±»å‹å’Œå€¼ç±»å‹" class="headerlink" title="å¼•ç”¨ç±»å‹å’Œå€¼ç±»å‹"></a>å¼•ç”¨ç±»å‹å’Œå€¼ç±»å‹</h2><ul>
<li><p>è¸©å‘ç‰ˆä¹‹ä»Swiftè¿‡æ¥æ“ä½œæ•°ç»„</p>
<pre><code>var a = [1, 2, 4]
var b = a
b += [9]
a
b
</code></pre></li>
</ul>
<ul>
<li><p>æ°¸è¿œä¸è¦å®šä¹‰å¯å˜ç±»å‹çš„å‚æ•°    </p>
<pre><code>&gt;&gt;&gt; def add_to(num, target=[]):
...     target.append(num)
...     return target
... 
&gt;&gt;&gt; add_to(1)
[1]
&gt;&gt;&gt; add_to(2)
[1, 2]
</code></pre></li>
</ul>
<h2 id="å†…ç½®å‡½æ•°ä¹‹è¯­æ³•ç³–"><a href="#å†…ç½®å‡½æ•°ä¹‹è¯­æ³•ç³–" class="headerlink" title="å†…ç½®å‡½æ•°ä¹‹è¯­æ³•ç³–"></a>å†…ç½®å‡½æ•°ä¹‹è¯­æ³•ç³–</h2><ul>
<li><p>åˆ—è¡¨ç”Ÿæˆå¼</p>
<pre><code>[x for x in range(5) if x % 2 == 0]
</code></pre></li>
<li><p>map, filter, reduce</p>
<pre><code>list(map(lambda x:x*2, range(5)))
list(filter(lambda x:x &gt; 3, range(5)))
</code></pre></li>
<li><p>sorted</p>
<pre><code>&gt;&gt;&gt; L = [(&apos;Bob&apos;, 75), (&apos;Adam&apos;, 92), (&apos;Bart&apos;, 66), (&apos;Lisa&apos;, 88)]
&gt;&gt;&gt; def by_name(t):
...     return t[0].lower()
... 
&gt;&gt;&gt; l1 = sorted(L, key=by_name)
&gt;&gt;&gt; l1
[(&apos;Adam&apos;, 92), (&apos;Bart&apos;, 66), (&apos;Bob&apos;, 75), (&apos;Lisa&apos;, 88)]
</code></pre></li>
</ul>
<h2 id="è¸©å‘pymysql"><a href="#è¸©å‘pymysql" class="headerlink" title="è¸©å‘pymysql"></a>è¸©å‘pymysql</h2><ul>
<li>%d format: a number is required, not str</li>
</ul>
<p>æŠ¥é”™sqlè¯­å¥:</p>
<pre><code>insert into sections(id, bookid, name, seq, url) values(&quot;%s&quot;, &quot;%s&quot;, &quot;%s&quot;,%d,&quot;%s&quot;)&apos;
</code></pre><p>æ­£ç¡®sqlè¯­å¥:</p>
<pre><code>insert into sections(id, bookid, name, seq, url) values(&quot;%s&quot;, &quot;%s&quot;, &quot;%s&quot;,%s,&quot;%s&quot;)&apos;
</code></pre>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Python/">Python</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Python/">Python</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2017/08/12/Pythonå­¦ä¹ -è¯­æ³•ç¯‡/#comments" class="ds-thread-count comments-count-link" data-thread-key="2017/08/12/Pythonå­¦ä¹ -è¯­æ³•ç¯‡/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/01/18/IOSè“ç‰™å¤–è®¾ä½¿ç”¨å…¼AppStoreå®¡æ ¸è®°/" title="IOSè“ç‰™å¤–è®¾ä½¿ç”¨å…¼AppStoreå®¡æ ¸è®°" itemprop="url">IOSè“ç‰™å¤–è®¾ä½¿ç”¨å…¼AppStoreå®¡æ ¸è®°</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Wesin" target="_blank" itemprop="author">Wesin</a>
		
  </p><p class="article-time">
    <time datetime="2017-01-18T06:27:20.000Z" itemprop="datePublished"> å‘è¡¨äº 2017-01-18</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p><strong>ps</strong>:æ‰“å°ï¼Œåˆæ˜¯æ‰“å°ï¼Œé”€å”®ä¸çŸ¥é“å“ªé‡Œæ‰¾æ¥ä¸ªæ‰“å°æœºè¦æ”¯æŒã€‚å¥½å§ï¼Œä¸æ˜¯æ‰€æœ‰çš„è“ç‰™æ‰“å°æœºéƒ½æ˜¯å¯ä»¥ç”¨corebluetoothå»è¿æ¥çš„ã€‚è¿™æ¬¡æ˜¯Bixolonï¼Œsppå‹å·çš„æ‰“å°æœºã€‚ç½‘ä¸Šä¸€æœï¼Œæ˜¯ä¸ªéŸ©å›½çš„æ‰“å°æœºã€‚ä¸­å›½è¿å®˜æ–¹ä»£ç†ä¹Ÿæ²¡æœ‰ï¼Œåªæœ‰æ·˜å®æœ‰ä¸ªä¹°å®¶ï¼Œè‡ªç§°ä»£ç†ã€‚è¿™ç§æ‰“å°æœºç”¨çš„æ˜¯è‹¹æœMFIè®¤è¯çš„è¿æ¥æ–¹å¼ã€‚å…ä¸å¾—è¦é€‚é…ä¸‹ï¼ŒåºŸè¯ä¸å¤šè¯´ï¼ŒçŒ®ä¸Šæ•™ç¨‹ã€‚</p>
<h1 id="é¡¹ç›®é…ç½®"><a href="#é¡¹ç›®é…ç½®" class="headerlink" title="é¡¹ç›®é…ç½®"></a>é¡¹ç›®é…ç½®</h1><blockquote>
<ul>
<li>Build Phases ä¸­æ·»åŠ ExternalAccessory.framework</li>
<li>Capabilities<br>   1.å¯ç”¨background modes å‹¾é€‰External accessory communicationã€ Uses Bluetooth LE accessoriesã€Acts as a Bluetooth LE accessory<br>  2.å¯ç”¨Wireless Accessory Configuration</li>
<li>info.plistæ·»åŠ Supported external accessory protocols<br><img src="../images/xcode8/info-external.png" alt="Screen shot"></li>
</ul>
</blockquote>
<h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><p>ä¸€èˆ¬è°ƒç”¨å¯¹åº”çš„sdkå³å¯ï¼Œç”¨corebluetoothçš„å¯»æ‰¾æ‰“å°æœºæ˜¯æ‰¾ä¸åˆ°çš„ã€‚</p>
<h1 id="ä½¿ç”¨æµç¨‹"><a href="#ä½¿ç”¨æµç¨‹" class="headerlink" title="ä½¿ç”¨æµç¨‹"></a>ä½¿ç”¨æµç¨‹</h1><blockquote>
<ul>
<li>æ‰‹æœºor padè“ç‰™è®¾ç½®ä¸­å…ˆè¿æ¥æ‰“å°æœºã€‚ä¸€èˆ¬è¦è¾“pinç ã€‚bixolonçš„pinç é»˜è®¤æ˜¯0000</li>
<li>è¿æ¥å¥½æ‰“å°æœºåå†å»ä»£ç ä¸­è°ƒç”¨sdkæŸ¥æ‰¾æ‰“å°æœºï¼Œæ–¹èƒ½æ‰¾åˆ°æ‰“å°æœºã€‚ç„¶åå¯¹åº”å‘æŒ‡ä»¤å³å¯ã€‚ps:ç½‘ä¸Šæœ‰ä¸éœ€è¦sdkä¹Ÿå¯ä»¥è¿æ¥æ‰“å°æœºã€‚æ²¡å°è¯•è¿‡ï¼Œä»£ç ç•¥å¤š</li>
</ul>
</blockquote>
<h1 id="Appå®¡æ ¸"><a href="#Appå®¡æ ¸" class="headerlink" title="Appå®¡æ ¸"></a>Appå®¡æ ¸</h1><p>å¾ˆå…³é”®ï¼Œä½¿ç”¨MFIè®¤è¯çš„è¿æ¥æ–¹å¼æ˜¯å¿…é¡»è¦ä»å‚å®¶è·å–PPIDçš„ã€‚è¿™ä¸ªæµç¨‹ä¸€èˆ¬æ˜¯è¿™æ ·çš„ã€‚è·Ÿå‚å®¶æ²Ÿé€šï¼Œå‚å®¶ä¸€èˆ¬ä¼šå‘ä½ ä¸€ä¸ªè¡¨æ ¼å¯ä»¥å¡«ï¼Œéœ€è¦çš„å†…å®¹appåç§°ã€ç‰ˆæœ¬å·ã€bundleidç­‰ã€‚ç„¶åå‚å®¶æ‹¿è¿™ä¸ªå»è‹¹æœç”³è¯·æŠŠbundleidæ·»åŠ åˆ°ä»–ä»¬çš„ppidé‡Œé¢ã€‚ç„¶åæŠŠppidå‘Šè¯‰æˆ‘ä»¬ã€‚æˆ‘ä»¬æ”¾åˆ°itunesé‡Œé¢çš„remarkä¸­å¤‡æ³¨å¥½å³å¯ã€‚ä¸€èˆ¬å¦‚æœå·²ç»å®¡æ ¸è¢«æ‹’ç»äº†ï¼Œæ”¾ä¸Šå»ä¹‹åæœ€å¥½åœ¨æ‹’ç»åé¢å›å¤ä¸‹å·²ç»æ”¾å…¥å¤‡æ³¨ä¸­ï¼Œä¸ç„¶äººå®¶ä¹Ÿä¸ä¼šæ³¨æ„çœ‹ï¼Œåˆ†åˆ†é’Ÿåˆæ‹’ç»äº†ã€‚åœ¨ä¸‹å·²ç„¶æœ‰è¿™æ ·çš„ç»å†ã€‚<br>è¿™é‡Œå¤§è‡´è´´ä¸‹æ‹’ç»ä¿¡æ¯ï¼š<br>â€”â€“ MFi - PPID â€”â€“</p>
<p>We have started your app review but are unable to complete the review because we cannot locate the MFi Product Plan ID (PPID) of the hardware accessory associated with your app.</p>
<p>If you do not know the PPID, please contact the accessory manufacturer for this information. Once you have the PPID, please enter this information in the Notes section for your app in iTunes Connect.</p>
<p>To edit the Notes section:</p>
<ul>
<li>Log in to iTunes Connect</li>
<li>Click on â€œMy Appsâ€</li>
<li>Select your app</li>
<li>Scroll down to â€œApp Review Informationâ€</li>
<li>Update â€œNotesâ€</li>
<li>Click Save</li>
<li>Click Submit for Review</li>
</ul>
<p>Once youâ€™ve updated the Notes section with the PPID, we can proceed with your app review. </p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/ios/">ios</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Swift3/">Swift3</a><a href="/tags/Xcode8/">Xcode8</a><a href="/tags/Bluetooth/">Bluetooth</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2017/01/18/IOSè“ç‰™å¤–è®¾ä½¿ç”¨å…¼AppStoreå®¡æ ¸è®°/#comments" class="ds-thread-count comments-count-link" data-thread-key="2017/01/18/IOSè“ç‰™å¤–è®¾ä½¿ç”¨å…¼AppStoreå®¡æ ¸è®°/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/11/07/Swift3è¸©å‘è®°/" title="Swift3è¸©å‘è®°" itemprop="url">Swift3è¸©å‘è®°</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Wesin" target="_blank" itemprop="author">Wesin</a>
		
  </p><p class="article-time">
    <time datetime="2016-11-07T01:37:19.000Z" itemprop="datePublished"> å‘è¡¨äº 2016-11-07</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p><strong>ps</strong>:Xcode8å‡ºæ¥ä¸¤ä¸ªæ˜ŸæœŸï¼Œæ‰‹è´±å¿ä¸ä½å‡çº§äº†ï¼ŒæŠ±ç€å¯¹swift3å¼ºçƒˆçš„æœŸæœ›å‡çº§äº†ï¼Œå‡çº§äº†ï¼Œå‡çº§ï¼Œå‡â€¦â€¦ç„¶åé›ªå´©ä¸€åœºã€‚</p>
<h1 id="Xcode8æ‰“å¼€æ°¸è¿œå´©æºƒ"><a href="#Xcode8æ‰“å¼€æ°¸è¿œå´©æºƒ" class="headerlink" title="Xcode8æ‰“å¼€æ°¸è¿œå´©æºƒ"></a><strong>Xcode8æ‰“å¼€æ°¸è¿œå´©æºƒ</strong></h1><p>åˆšå‡çº§çš„xcode8æ¯æ¬¡æ‰“å¼€è¾“å…¥ç¬¬ä¸€ä¸ªå­—ç¬¦å°±å´©æºƒï¼Œä¸€ç›´å¦‚æ­¤ä»æ¥æ²¡æœ‰æ”¹å˜ã€‚é”™è¯¯ä¿¡æ¯æ˜¾ç¤ºimagenamedæ’ä»¶é—®é¢˜ï¼Œèœå•æ å¹¶æ²¡æœ‰æ’ä»¶æ˜¾ç¤ºï¼Œå¼ºè¡Œè‡ªæˆ‘æ·¡å®šäº†ä¸‹ï¼Œåœ¨xcodeæ’ä»¶ç›®å½•æ‰¾åˆ°äº†æ®‹ç•™çš„æ’ä»¶å°¸ä½“ã€‚<br>~/Library/Application Support/Developer/Shared/Xcode/Plug-ins<br>åˆ é™¤åç»ˆäºèƒ½æ­£å¸¸æ‰“å¼€äº†ã€‚</p>
<h1 id="ç¼–è¯‘å¡ä½ä¸åŠ¨äº†"><a href="#ç¼–è¯‘å¡ä½ä¸åŠ¨äº†" class="headerlink" title="ç¼–è¯‘å¡ä½ä¸åŠ¨äº†"></a><strong>ç¼–è¯‘å¡ä½ä¸åŠ¨äº†</strong></h1><p>å¥½é†‰ï¼Œè¯´å¥½çš„ä¼˜åŒ–äº†æ€§èƒ½å‘¢ï¼Œä»£ç è½¬æ¢åå„ç§é”™è¯¯ï¼Œç„¶åç¼–è¯‘æ‰¾é”™è¯¯æç¤ºï¼Œå†ç¼–è¯‘å†æ¥ä¸€æ‰¹ï¼Œæ‰“å®ŒNæ³¢åƒµå°¸åï¼Œç³»ç»Ÿç¼–è¯‘åˆ°æŸä¸ªæ–‡ä»¶å¡ä½æ°¸è¿œä¸åŠ¨äº†ï¼Œå…³é”®æ˜¯ä¹Ÿä¸æŠ¥é”™ã€‚å¬ç€ç¬”è®°æœ¬å¯æ€œçš„è½°éš†éš†å£°ï¼Œå¿ƒå¥½ç¢ã€‚</p>
<p>ç½‘ä¸Šæ‰¾äº†Nå¤šèµ„æ–™ï¼Œç»ˆäºå‘ç°è››ä¸é©¬è¿¹ã€‚</p>
<p>ç½‘ä¸Šæœ‰è¯´å†ä»¥å‰çš„ç‰ˆæœ¬ï¼Œæœ‰é‡åˆ°xmlå­—ç¬¦ä¸²å¤ªé•¿é€ æˆç¼–è¯‘å¡ä½é—®é¢˜ã€‚<br>ä»”ç»†ç ”ç©¶ä»£ç å‘ç°ï¼ŒåŸæ¥æ˜¯ä¸€ä¸ªfmdbçš„sqlè¯­å¥é—®é¢˜ï¼Œå­—æ®µå¤ªå¤šï¼Œinsertè¯­å¥å¤ªé•¿ï¼Œç„¶åxcodeå°±å¡ä½äº†ï¼Œå¡ä½äº†ï¼Œå¡ä½ï¼Œäº†â€¦â€¦ä¸€å£è€è¡€ã€‚</p>
<p>è§£å†³æ–¹æ³•ï¼Œä¸èƒ½ä½¿ç”¨fmdbè‡ªå¸¦çš„updateæ–¹æ³•ï¼Œå› ä¸ºèµ‹å€¼å‚æ•°å¤ªå¤šäº†ï¼Œä¼šå¡ä½ï¼Œæ‰€ä»¥åªèƒ½æ‹¼è£…æˆä¸€ä¸ªå®Œæ•´çš„sqlï¼Œç„¶åæŠŠè€é•¿è€é•¿çš„sqlç”¨StringBuilderåŒ…è£…èµ·æ¥ï¼Œåˆ†å‰²æˆæ— æ•°ä»½ã€‚</p>
<p>å¥½å§ï¼Œç»ˆäºç¼–è¯‘é€šè¿‡äº†ã€‚</p>
<h1 id="Swift3ä¼˜åŒ–ä¸å®Œæ•´çš„ä»£ç bug"><a href="#Swift3ä¼˜åŒ–ä¸å®Œæ•´çš„ä»£ç bug" class="headerlink" title="Swift3ä¼˜åŒ–ä¸å®Œæ•´çš„ä»£ç bug"></a><strong>Swift3ä¼˜åŒ–ä¸å®Œæ•´çš„ä»£ç bug</strong></h1><p>UITableViewåœ¨ioså¼€å‘ä¸­ä½¿ç”¨é¢‘ç‡åº”è¯¥æ˜¯å¾ˆé«˜çš„ï¼Œswift3å¯¹UITableViewçš„å‡ ä¸ªä»£ç†æ–¹æ³•åšäº†å†™æ³•ä¸Šçš„ä¼˜åŒ–ï¼Œæ¯”å¦‚</p>
<pre><code>func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell
</code></pre><p>åŸæ¥çš„å†™æ³•cellForRowAtå¯¹åº”çš„æ˜¯cellForRowAtIndexPathï¼Œå°‘äº†å¤šä½™çš„IndexPathï¼Œå®Œç¾ï¼Œçœ‹èµ·æ¥ç®€åŒ–å¤šäº†ã€‚æ‰¹é‡æ›¿æ¢ä¸‹å‘—ã€‚</p>
<p>ç¼–è¯‘å¥½åä¸€çœ‹é«˜åº¦ä»€ä¹ˆé¬¼ï¼Œç‚¹å‡»ä¸ºä»€ä¹ˆæ²¡æ•ˆæœã€‚ç„¶è€Œç¼–è¯‘ä¹Ÿæ²¡æŠ¥é”™ã€‚è¿˜åŸå›å»æ‰å‘ç° didSelectRowAtIndexPath åœ¨xcode8ä¸­åé¢çš„IndexPathå¿…é¡»æœ‰ï¼Œæ²¡æœ‰è¿™ä¸ªä»£ç†å°±ä¸ä¼šè¢«è°ƒç”¨ã€‚ä¹Ÿæ˜¯åè¡€ä¸€å‡ã€‚</p>
<h1 id="Swift3-extensionçš„å‘"><a href="#Swift3-extensionçš„å‘" class="headerlink" title="Swift3 extensionçš„å‘"></a><strong>Swift3 extensionçš„å‘</strong></h1><p>æˆ‘ä¸çŸ¥é“extensionæ–‡æ¡£é‡Œé¢æœ‰æ²¡æœ‰è¯´è¿‡ä¸èƒ½æ”¾overrideçš„æ–¹æ³•ï¼Œä¸ç„¶è¿™ä¸ªæ–¹æ³•åœ¨releaseä¸‹é¢æ˜¯ä¸ä¼šè¢«è°ƒç”¨çš„ã€‚ç„¶è€Œä¸ºä»€ä¹ˆåœ¨debugæ¨¡å¼ä¸‹overrideçš„æ–¹æ³•åˆä¼šè¢«è°ƒç”¨ã€‚è¿™ä¸ªåªèƒ½è¯´å‘åˆ°å®¶äº†ã€‚å¥½ä¸å®¹æ˜“æŠŠä»£ç æ‰“åŒ…åŠå¤©æäº¤åˆ°Itunesconnect, testflightä¸‹æ¥ä¸€çœ‹å‰§æƒ…ä¸ä¸€æ ·ã€‚</p>
<p>ğŸ±äº†ä¸ªå’ªï¼Œä¸ºä»€ä¹ˆç¼–è¯‘çœ‹èµ·æ¥ä¸€ç‚¹é—®é¢˜éƒ½æ²¡æœ‰ã€‚åªèƒ½ç”¨releaseæ¨¡å¼è°ƒè¯•ï¼Œä¸€æ­¥ä¸€æ­¥åˆ¤æ–­æ‰å‘ç°è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>é™„ä¸Šå¯¹åº”releaseè®¾ç½®çš„å›¾ç‰‡:<img src="../images/xcode8/editschema.png" alt="Screen shot"></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/ios/">ios</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Swift3/">Swift3</a><a href="/tags/Xcode8/">Xcode8</a><a href="/tags/ios/">ios</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/11/07/Swift3è¸©å‘è®°/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/11/07/Swift3è¸©å‘è®°/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/06/13/IOSè“ç‰™æ‰“å°/" title="iosè“ç‰™æ‰“å°" itemprop="url">iosè“ç‰™æ‰“å°</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Wesin" target="_blank" itemprop="author">Wesin</a>
		
  </p><p class="article-time">
    <time datetime="2016-06-13T00:55:05.000Z" itemprop="datePublished"> å‘è¡¨äº 2016-06-13</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p><strong>ps</strong>:è¿‘æ¥å…¬å¸æœ‰ä¸ªiosè°ƒç”¨è“ç‰™æ‰“å°æœºæ‰“å°å°ç¥¨çš„åŠŸèƒ½ï¼Œç½‘ä¸Šèµ„æ–™ä¹Ÿæœ‰ï¼ŒESC/POSæ‰“å°æŒ‡ä»¤é›†ä¹Ÿæœ‰ï¼Œä»¥å‰åˆšæ¯•ä¸šæœ‰åšè¿‡winformè°ƒç”¨ç½‘ç»œå°ç¥¨æ‰“å°æœºçš„åŠŸèƒ½ï¼ŒæŒ‡ä»¤é›†åæ­£éƒ½æ˜¯å·®ä¸å¤šçš„ã€‚åªæ˜¯æ”»ç•¥ä¸æ˜¯å¾ˆè¯¦ç»†ï¼Œè¿™é‡ŒæŠŠè¯¦ç»†æ­¥éª¤å’Œé‡åˆ°çš„é—®é¢˜ä»¥åŠè§£å†³æ–¹æ³•è¯¦ç»†çš„è®°å½•ä¸‹ï¼Œå·²ä¾›åæ¥äººå‚è€ƒã€‚è¿™é‡Œå»ºè®®å¤§å®¶è¿˜æ˜¯ä½¿ç”¨ESC/POSæŒ‡ä»¤æ¥å®ç°æ‰“å°åŠŸèƒ½ï¼Œå¤§å¤šæ•°ç»™åŠ›çš„æ‰“å°æœºå‚å•†éƒ½ä¼šå…¼å®¹è¿™å¥—æŒ‡ä»¤ã€‚<br>é—²è¯ä¸å¤šè¯´ï¼Œç»éªŒæ•™ç¨‹å¦‚ä¸‹ï¼š</p>
<p><strong>ps</strong>:æˆ‘ä½¿ç”¨çš„æ˜¯swiftå¼€å‘</p>
<h1 id="è“ç‰™è¿æ¥"><a href="#è“ç‰™è¿æ¥" class="headerlink" title="è“ç‰™è¿æ¥"></a>è“ç‰™è¿æ¥</h1><blockquote>
<p>è“ç‰™æ¡†æ¶å¼•å…¥</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> CoreBluetooth</span><br></pre></td></tr></table></figure>
<blockquote>
<p>åˆ›å»ºè“ç‰™ç®¡ç†ç±»</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> blueManager:<span class="type">CBCentralManager?</span> = <span class="type">CBCentralManager</span>(delegate: <span class="keyword">self</span>, queue: dispatch_get_main_queue())</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ‰«æå¯è¿æ¥è“ç‰™</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">blueManager?.scanForPeripheralsWithServices(<span class="literal">nil</span>, options: [<span class="type">CBCentralManagerScanOptionAllowDuplicatesKey</span>:<span class="literal">true</span>])</span><br></pre></td></tr></table></figure>
<blockquote>
<p>è“ç‰™å¤„ç†ä»£ç†ç±»</p>
</blockquote>
<p>è“ç‰™è®¾ç½®å¼€å…³çš„ä»£ç†</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">centralManagerDidUpdateState</span><span class="params">(central: CBCentralManager)</span></span> &#123;</span><br><span class="line">    <span class="keyword">switch</span> (central.state)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="type">CBCentralManagerState</span>.<span class="type">PoweredOn</span>:</span><br><span class="line">        <span class="comment">//å½“è“ç‰™æ‰“å¼€æ—¶ï¼Œè‡ªåŠ¨æ‰«æå¯¹åº”çš„å¤–è®¾</span></span><br><span class="line">            blueManager?.scanForPeripheralsWithServices(<span class="literal">nil</span>, options: [<span class="type">CBCentralManagerScanOptionAllowDuplicatesKey</span>:<span class="literal">true</span>])</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="type">NSLog</span>(<span class="string">"Central Manager did change state"</span>)</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ‰«æç›‘å¬ä»£ç†ï¼Œå½“æ‰«æåˆ°è“ç‰™è®¾å¤‡æ—¶ï¼Œè¿™é‡Œä¼šæ¥å—åˆ°é€šçŸ¥</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">centralManager</span><span class="params">(central: CBCentralManager, didDiscoverPeripheral peripheral: CBPeripheral, advertisementData: [String : AnyObject], RSSI: NSNumber)</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> uuid = peripheral.identifier.<span class="type">UUIDString</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"å‘ç°è®¾å¤‡"</span>)</span><br><span class="line">            <span class="built_in">print</span>(uuid)</span><br><span class="line">            <span class="built_in">print</span>(peripheral.name, advertisementData)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"------------------------------------------"</span>)</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * ä¸åŒ…å«æœåŠ¡åŠŸèƒ½</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">if</span> advertisementData[<span class="string">"kCBAdvDataServiceUUIDs"</span>] == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è¿™é‡Œæ˜¯æŠŠæ‰«æåˆ°çš„ä¸åŒè®¾å¤‡ä¿å­˜èµ·æ¥ï¼Œdevicesæ˜¯è‡ªå·±å®šä¹‰çš„ä¸€ä¸ªè“ç‰™è®¾å¤‡æ•°ç»„</span></span><br><span class="line">    <span class="keyword">if</span> devices.<span class="built_in">find</span>(&#123;$<span class="number">0</span>.peripheral?.identifier.<span class="type">UUIDString</span> == uuid&#125;) == -<span class="number">1</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> serviceID = (advertisementData[<span class="string">"kCBAdvDataServiceUUIDs"</span>] <span class="keyword">as</span>? (<span class="type">String</span>,<span class="type">String</span>))?.<span class="number">1</span> ?? <span class="string">""</span></span><br><span class="line">        devices.append(<span class="type">Device</span>(name: peripheral.name ?? <span class="type">LS</span>(<span class="string">"unnamed"</span>), peripheral: peripheral, serviceUUID:serviceID)) <span class="comment">//"æœªå‘½å"</span></span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»æ‰“å°æœºæ•°ç»„é‡Œé¢ç¡®å®šéœ€è¦é€‰æ‹©çš„æ‰“å°æœº è°ƒç”¨è¿æ¥ä»£ç ï¼Œå¼±æ°´ä¸‰åƒï¼Œå–ä¸€ç“¢è€Œé¥®ä¹‹ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">connectDevice</span><span class="params">(device:Device)</span></span> &#123;</span><br><span class="line">    blueManager?.stopScan()</span><br><span class="line">    currentDevice = device</span><br><span class="line">    blueManager?.connectPeripheral(device.peripheral!, options: <span class="literal">nil</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿æ¥æ‰“å°æœºåï¼Œç³»ç»Ÿç»§ç»­è°ƒç”¨ä»£ç†ï¼Œå‘Šè¯‰ä½ è¿æ¥ç»“æœ<br>é¡¾åæ€ä¹‰ï¼Œè¿ä¸ä¸ŠT0T</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">centralManager</span><span class="params">(central: CBCentralManager, didFailToConnectPeripheral peripheral: CBPeripheral, error: NSError?)</span></span> &#123;</span><br><span class="line">    <span class="type">MessageShow</span>.<span class="type">ShareInstance</span>.errorMessage = error?.localizedFailureReason ?? <span class="string">""</span></span><br><span class="line">    printDelegate?.selectPrinter()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿ä¸Šäº†~ï¼Œ~</p>
<pre><code>func centralManager(central: CBCentralManager, didConnectPeripheral peripheral: CBPeripheral) {
    noConnectedTimer?.invalidate()
    disConnectTimer?.invalidate()
    peripheral.delegate = self
    peripheral.discoverServices(nil)
}
</code></pre><p>è¿™æ˜¯åˆ†æ‰‹(æ–­å¼€è¿æ¥)åçš„é€šçŸ¥</p>
<pre><code>func centralManager(central: CBCentralManager, didDisconnectPeripheral peripheral: CBPeripheral, error: NSError?) {
}
</code></pre><p>è¿æ¥ä¸Šperipheralåéœ€è¦è¿æ¥å¯¹åº”çš„æœåŠ¡æ‰èƒ½ç®—çœŸæ­£è¿ä¸Š</p>
<pre><code>func peripheral(peripheral: CBPeripheral, didDiscoverServices error: NSError?) {
    if error != nil {
        MessageShow.ShareInstance.errorMessage = error?.localizedFailureReason ?? LS(&quot;notfindprintservice&quot;) //&quot;è¯¥è®¾å¤‡æ‰¾ä¸åˆ°å¯¹åº”çš„æ‰“å°æœåŠ¡&quot;
        return
    }
    for service in peripheral.services! {
        //æ­£å¸¸æ‰“å°æœºçš„æ‰“å°æœåŠ¡å°±æ˜¯è¿™ä¸ªuuid
        if service.UUID == CBUUID(string: &quot;E7810A71-73AE-499D-8C15-FAA9AEF0C3F2&quot;) {
            currentDevice?.service = service
            //æ˜¯çš„ï¼Œä½ æ²¡çœ‹é”™ï¼Œè¿ä¸ŠæœåŠ¡è¿˜å¾—å†è¿æ‰€è°“çš„ç‰¹æ€§
            peripheral.discoverCharacteristics(nil, forService: service)
        }
    }
    if currentDevice?.service == nil {
        MessageShow.ShareInstance.errorMessage = LS(&quot;notfindprintservice&quot;) //&quot;è¯¥è®¾å¤‡æ‰¾ä¸åˆ°å¯¹åº”çš„æ‰“å°æœåŠ¡&quot;
        currentDevice = nil
    }
}

è¿æ¥characteristics(ç¿»è¯‘ï¼šç‰¹æ€§)

func peripheral(peripheral: CBPeripheral, didDiscoverCharacteristicsForService service: CBService, error: NSError?) {
    if error != nil {
        MessageShow.ShareInstance.errorMessage = error?.localizedFailureReason ?? LS(&quot;notfindprintservice&quot;) //&quot;è¯¥è®¾å¤‡æ‰¾ä¸åˆ°å¯¹åº”çš„æ‰“å°æœåŠ¡&quot;
        return
    }

    if service.characteristics != nil {
        for characteristic in service.characteristics! {
            if characteristic.UUID == CBUUID(string: &quot;BEF8D6C9-9C21-4C9E-B632-BD58C1009F9F&quot;) {
                currentDevice?.characteristic = characteristic
                peripheral.setNotifyValue(true, forCharacteristic: characteristic)
                //æ‰“å°æœºè¿ä¸Šäº†ï¼Œåé¢å°±å¯ä»¥å¯¹ä»–å‘æŒ‡ä»¤æ‰“å°äº†
                //printDelegate?.doPrintBill()
            }
        }
    }
}
</code></pre><p>å†æ¥ä¸ªæ–­å¼€è¿æ¥çš„ä»£ç <br><code>blueManager?.cancelPeripheralConnection(currentDevice!.peripheral!)</code></p>
<h1 id="æ‰“å°æœºæŒ‡ä»¤é›†"><a href="#æ‰“å°æœºæŒ‡ä»¤é›†" class="headerlink" title="æ‰“å°æœºæŒ‡ä»¤é›†"></a>æ‰“å°æœºæŒ‡ä»¤é›†</h1><p>å†å¼€å§‹æ‰“å°æŒ‡ä»¤çš„æ•™ç¨‹å‰ï¼Œå…ä¸å¾—å…ˆè¯´è¯´é‡åˆ°å‘å§ã€‚</p>
<ol>
<li>ioså¯¹æ‰“å°æœºçš„æŒ‡ä»¤å‘é€æ˜¯å¿…é¡»è¦æœ‰é•¿åº¦é™åº¦çš„ï¼Œä¸åŒæ‰“å°æœºçš„é•¿åº¦ä¸ä¸€æ ·ã€‚å½“ä½ å‘ç°æ‰“å°ä¸€ä¸ªé•¿é•¿çš„å­—ç¬¦ä¸²å‘ç°æ‰“ä¸€åŠå¡æ­»æ—¶ï¼Œå°±å¾—è€ƒè™‘ä¸‹é•¿åº¦æˆªå–çš„é—®é¢˜äº†ã€‚</li>
<li>å¤§å¤šæ•°æ‰“å°æœºæ²¡æœ‰äº¤äº’åŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯åªèƒ½å¯¹ç‰›å¼¹ç´äº†ã€‚soæ–­å¼€æ‰“å°æœºçš„æ—¶æœºä¹Ÿæ˜¯ä¸ªé—®é¢˜ã€‚å½“ç„¶ä¸€å¯¹ä¸€æ°¸è¿œè¿æ¥çš„å°±ä¸ç”¨æ–­å¼€äº†ã€‚</li>
<li>æ‰“å°æ¡ç ï¼Œå»ºè®®è¿˜æ˜¯éœ€è¦æ‰“å°åŠŸèƒ½æ¯”è¾ƒå¥½çš„æ‰“å°æœºã€‚</li>
</ol>
<p>ä¸‹é¢å¤§è‡´å†™ä¸‹å¸¸ç”¨çš„æ‰“å°æŒ‡ä»¤ï¼š</p>
<blockquote>
<p>åˆå§‹åŒ–æ‰“å°æœº</p>
</blockquote>
<pre><code>func initPrint() {
    sendCode([0x1b, 0x40], boolEnd: true)
}
</code></pre><blockquote>
<p>æ‰“å°å­—ç¬¦ä¸²</p>
</blockquote>
<p>æ‰“å°å­—ç¬¦ä¸²çš„ä½ç½®ä¸€èˆ¬è‡ªå·±è°ƒå§ï¼Œalignè¡¨ç¤ºè¿™è¡Œï¼ˆæ³¨æ„è¡Œï¼Œè¿™ä¸ªä¸èƒ½æ‹†åˆ†ï¼‰çš„æ‰“å°é å·¦é å³</p>
<pre><code>func printText(text: String, align: NSTextAlignment) {
    self.align(align)
    //ä¸­æ–‡å­—ç¬¦æ‰“å°éœ€è¦è½¬ç 
    let encode =  CFStringConvertEncodingToNSStringEncoding(UInt32(CFStringEncoding(CFStringEncodings.GB_18030_2000.rawValue)))
    var printStr = text
    //å…¼å®¹æŸäº›æ¸£æ¸£æ‰“å°æœºè®¾ç½®é•¿åº¦é™åˆ¶ï¼Œå¥½ç‚¹çš„æ‰“å°æœº1000ä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜
    while printStr.charLength() &gt; 60 {
        let nowStr = printStr.substringToIndex(32)
        let tmpData = NSString(string: nowStr).dataUsingEncoding(encode, allowLossyConversion: false)!
        sendMsg(tmpData)
        printStr = printStr.substringFromIndex(32)
    }
    if printStr.characters.count &gt; 0 {
        let tmpData = NSString(string: printStr).dataUsingEncoding(encode, allowLossyConversion: false)!
        sendMsg(tmpData)
    }
}

/**
 text å¯¹é½

 - parameter align: .
 */
func align(align:NSTextAlignment) -&gt; NSMutableData {
    if align == currentAlign {
        return NSMutableData()
    }
    currentAlign = align
    var bytes:[UInt8] = [0x1b, 0x61]
    switch align {
    case .Center:
        bytes.append(0x01)
    case .Right:
        bytes.append(0x02)
    default:
        bytes.append(0x00)
    }
    sendCode(bytes)
    return NSMutableData()
}

//åŠ ç²—

func bold(enable:Bool) {
    var bytes:[UInt8] = [0x1b, 0x45]
    bytes.append(enable ? 0x01 : 0x00)
    sendCode(bytes)
}

//æ‰“å¼€é’±ç®±    

func openBox() {
    let bytes:[UInt8] = [27,112, 0, 200,200]
    sendCode(bytes)
}

/**
 ç»“æŸèµ°çº¸ æœ€åè¡¨ç¤ºèµ°å‡ è¡Œçº¸
 */
func endPrint() {
    sendCode([0x1b, 0x64, 0x05] as [UInt8])
    cutPaper()
}

/**
 åˆ‡çº¸
 */
func cutPaper() {
    //åŠåˆ‡01ï¼Œå…¨åˆ‡00
    sendCode([0x1d, 0x56, 0x00] as [UInt8], boolEnd: true)
}
</code></pre><blockquote>
<p>   æ‰“å°å›¾ç‰‡</p>
</blockquote>
<p>å›¾ç‰‡éœ€è¦åšç‚¹é˜µè½¬æ¢ï¼Œè¿™ä¸ªä»£ç å¤ªå¤šï¼Œç»™ä¸ªæ¬ç –åœ°å€ã€‚<a href="https://github.com/Haley-Wong/HLBluetoothDemo" target="_blank" rel="noopener">HLBluetoothDemo</a><br>ï¼Œè¿™é‡Œæœ‰ç‚¹è¦æ³¨æ„ä¸‹ï¼Œæ”¹githubçš„ä»£ç å¹¶ä¸èƒ½åœ¨ä½³åšæ‰“å°æœºä¸Šæ‰“å°äºŒç»´ç æˆ–è€…å›¾ç‰‡ã€‚ä¸»è¦æ˜¯å› ä¸ºä½³åšæ‰“å°æœºæ¯æ¬¡å‘é€æŒ‡ä»¤çš„æœ€å¤§é•¿åº¦åªæœ‰146.è€Œç¤ºä¾‹éƒ½æ˜¯æŠŠæŒ‡ä»¤å…¨éƒ¨ç»„è£…å¥½äº†ä¸€èµ·å‘é€ï¼Œä¼šå¯¼è‡´æ‰“å°æœºæ–­ç‰‡ã€‚</p>
<p>æ‰€ä»¥ä¸‹é¢çš„ä»£ç å°±æ˜¯æŠŠå›¾ç‰‡æŒ‡ä»¤æ‹†åˆ†é•¿åº¦æ¥å‘é€ç»™æ‰“å°æœº</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">   <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">printImg</span><span class="params">(<span class="number">_</span> image: UIImage, width: CGFloat)</span></span> &#123;</span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> borderImg = image.decorateBorder(<span class="number">10</span>) <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> img = borderImg.blackAndWhite()?.imageWithscaleMaxWidth(width) &#123;</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">let</span> data = img.bitmapData() &#123;</span><br><span class="line">                log.ln(<span class="string">"qrcode size: "</span> + data.<span class="built_in">count</span>.description)/</span><br><span class="line">                <span class="keyword">var</span> curIndex = <span class="number">0</span></span><br><span class="line">                <span class="keyword">let</span> step = <span class="number">100</span></span><br><span class="line">                <span class="keyword">while</span>(curIndex &lt; data.<span class="built_in">count</span>) &#123;</span><br><span class="line">                    <span class="keyword">let</span> endIndex = curIndex + step &lt; data.<span class="built_in">count</span> ? curIndex + step : data.<span class="built_in">count</span></span><br><span class="line">                    <span class="keyword">let</span> tmpData = data.subdata(<span class="keyword">in</span>: curIndex..&lt;endIndex)</span><br><span class="line">                    peripheral?.writeValue(tmpData, <span class="keyword">for</span>: characteristic!, type: .withoutResponse)</span><br><span class="line">                    curIndex += step</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        printNewLine()</span><br><span class="line"><span class="comment">//        // æ¢å¤è¡Œé—´è·</span></span><br><span class="line">        sendCode([<span class="number">0x1b</span>, <span class="number">0x32</span>], boolEnd: <span class="literal">true</span>)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>  ä¸Šé¢ä»£ç é‡Œé¢æœ‰ä¸ª<strong><em>image.decorateBorder</em></strong>ï¼Œè¿™æ˜¯å› ä¸ºæŒ‡ä»¤æ‹†åˆ†åä¸çŸ¥é“ä¸ºä»€ä¹ˆå›¾ç‰‡æ‰“å°æœ€ä¸‹é¢å‡ è¡Œæ€»ä¼šæœ‰ç¼ºå¤±ï¼Œæ— æ³•æ‰¾åˆ°åŸå› ï¼Œæ‰€ä»¥åšäº†ä¸ªç‰¹åˆ«çš„å¤„ç†ï¼Œå…ˆç»™å›¾ç‰‡åŠ äº†ä¸ªå¤–æ¡†ã€‚é‚£ä¹ˆç¼ºå¤±çš„å°±æ˜¯è¾¹æ¡†äº†ï¼Œä¸å½±å“å›¾ç‰‡æ•´ä½“æ‰“å°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">extension UIImage &#123;</span><br><span class="line">    func decorateBorder(_ borderWidth: CGFloat) -&gt; UIImage? &#123;</span><br><span class="line">        let resultSize = CGSize(width: self.size.width + 2 * borderWidth, height: self.size.height + 2 * borderWidth)</span><br><span class="line">        UIGraphicsBeginImageContext(resultSize)</span><br><span class="line">        let borderPath = UIBezierPath(roundedRect: CGRect(origin: CGPoint(x: 0, y: 0), size: resultSize), cornerRadius: 0)</span><br><span class="line">        UIColor.white.setFill()</span><br><span class="line">        borderPath.fill()</span><br><span class="line">        let imgRect = CGRect(x: borderWidth, y: borderWidth, width: self.size.width, height: self.size.height)</span><br><span class="line">        self.draw(in: imgRect)</span><br><span class="line">        let resultImg = UIGraphicsGetImageFromCurrentImageContext()</span><br><span class="line">        UIGraphicsEndImageContext()</span><br><span class="line">        return resultImg</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  ä¹‹æ‰€ä»¥è¦ç”¨<strong><em>imageWithscaleMaxWidth</em></strong>ï¼Œæ˜¯å› ä¸ºäºŒç»´ç å¤ªå®½å¯¼è‡´å›¾ç‰‡å¤§å°å¤ªå¤§ï¼Œè¶…å‡ºäº†æ‰“å°æœºçš„ç¼“å­˜ç©ºé—´ï¼Œä¼šå¯¼è‡´å›¾ç‰‡æ‰“å°ä¸å‡ºæ¥ã€‚</p>
<p>æœ€åæ¨èä¸‹æŒ‡ä»¤é›†æ¯”è¾ƒå®Œæ•´çš„æ–‡æ¡£ï¼š</p>
<p><a href="http://www.docin.com/p-676248934.html" target="_blank" rel="noopener"> http://www.docin.com/p-676248934.html </a></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/ios/">ios</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Bluetooth/">Bluetooth</a><a href="/tags/Swift/">Swift</a><a href="/tags/ios/">ios</a><a href="/tags/Print/">Print</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/06/13/IOSè“ç‰™æ‰“å°/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/06/13/IOSè“ç‰™æ‰“å°/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>







</div>
      <div class="openaside"><a class="navbutton" href="#" title="æ˜¾ç¤ºä¾§è¾¹æ "></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="éšè—ä¾§è¾¹æ "></a></div>
<aside class="clearfix">

  
<div class="github-card">
<p class="asidetitle">Github åç‰‡</p>
<div class="github-card" data-github="wesin" data-width="220" data-height="119" data-theme="medium">
<script type="text/javascript" src="//cdn.jsdelivr.net/github-cards/latest/widget.js"></script>
</div>
  </div>



  
<div class="categorieslist">
	<p class="asidetitle">åˆ†ç±»</p>
		<ul>
		
		  
			<li><a href="/categories/Maxcompute/" title="Maxcompute">Maxcompute<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/PM/" title="PM">PM<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Python/" title="Python">Python<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/ios/" title="ios">ios<sup>5</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">æ ‡ç­¾</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/Python/" title="Python">Python<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/ios/" title="ios">ios<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Swift3/" title="Swift3">Swift3<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/Xcode8/" title="Xcode8">Xcode8<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/Bluetooth/" title="Bluetooth">Bluetooth<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/Swift/" title="Swift">Swift<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Print/" title="Print">Print<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Swift4/" title="Swift4">Swift4<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Xcode9/" title="Xcode9">Xcode9<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Swift5/" title="Swift5">Swift5<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Xcode10-2/" title="Xcode10.2">Xcode10.2<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/UML/" title="UML">UML<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/PM/" title="PM">PM<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">å‹æƒ…é“¾æ¥</p>
    <ul>
        
          <li>
            
            	<a href="https://www.github.com" target="_blank" title="Github">Github</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="undefined" target="_blank" title="rss">RSS è®¢é˜…</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">æ–°æµªå¾®åš</p>
    <iframe width="100%" height="119" class="share_self" frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=null&verifier=c0177d78&dpc=1"></iframe>
    <!-- <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="100%" height=86 src="http://music.163.com/outchain/player?type=2&id=412902950&auto=1&height=66"></iframe> -->
</div>


</aside>
</div>
    </div>
    <footer><div id="footer">
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m Wesin in Hunpun. <br>
			é£ä¹Ÿå¦‚æ˜¯,é›¨ä¹Ÿå¦‚æ¢¦.</p>
	</section>
	 
	<div class="social-font">
		
		<a href="http://weibo.com/he8706799" target="_blank" class="icon-weibo" title="å¾®åš"></a>
		
		
		<a href="https://github.com/wesin" target="_blank" class="icon-github" title="github"></a>
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> Â© 2019 
		
		<a href="/about" target="_blank" title="Wesin">Wesin</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>










<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="è¿”å›é¡¶éƒ¨"><img src="/img/scrollup.png"></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>
